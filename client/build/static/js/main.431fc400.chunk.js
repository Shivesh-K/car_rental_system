(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),o=a(26),i=a(16),u=a(9),s=a(14),m=a.n(s),f=a(154),d=a(50),p=a(153),b=a(155),g=a(156),v=a(157),E=a(158),y=a(147),h=a(150),x=a(152),j=a(6),O=a.n(j),k=a(10),w=a(77),N=a.n(w).a.create({}),C=function(){var e=Object(k.a)(O.a.mark((function e(t){var a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.next=3,N.get("/user/".concat(a));case 3:if(200!==(r=e.sent).status||r.data.password!==n){e.next=9;break}return m.a.save("user",r.data,{maxAge:3600}),e.abrupt("return",{isLoggedIn:!0,user:r.data});case 9:return e.abrupt("return",{isLoggedIn:!1});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(k.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("/user/add",t);case 2:if(200!==(a=e.sent).status){e.next=8;break}return m.a.save("user",a.data,{maxAge:3600}),e.abrupt("return",{isSignedUp:!0});case 8:return e.abrupt("return",{isSignedUp:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=Object(y.a)({appbar:{position:"fixed",backgroundColor:"transparent",color:"black",boxShadow:"none"},title:{flexGrow:1}});var z=function(e){var t=e.goHome,a=I();return r.a.createElement(h.a,{className:a.appbar},r.a.createElement(x.a,null,r.a.createElement(d.a,{variant:"h6",className:a.title},r.a.createElement(p.a,{onClick:t},"Bookr.")),r.a.createElement(p.a,{color:"inherit",onClick:function(){!function(){try{m.a.remove("user")}catch(e){return console.error(e),!1}}(),window.location.reload()}},"Logout")))},D=Object(y.a)({appbar:{position:"static",backgroundColor:"transparent",color:"black",boxShadow:"none"},title:{flexGrow:1},main:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},heading:{marginBottom:"1.5em"},bookRideCard:{margin:16,padding:16,fontSize:"4rem"},bookRideText:{fontSize:"1.5rem",display:"flex",alignItems:"center"},flexRow:{display:"flex",justifyContent:"center"},icon:{fontSize:"2rem",marginRight:8},padded:{padding:16},circleBorder:{borderRadius:8},paperLink:{margin:8,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}});var A=function(e){var t=D(),a=m.a.load("user"),c=Object(n.useState)((function(){return""})),l=Object(u.a)(c,2),o=l[0],s=l[1];return""!==o?r.a.createElement(i.a,{to:{pathname:o,state:{from:e.pathname}}}):r.a.createElement(n.Fragment,null,r.a.createElement(z,null),r.a.createElement(f.a,{className:t.main},r.a.createElement(d.a,{variant:"h3",className:t.heading},"Welcome, ".concat(a.firstName)),r.a.createElement(p.a,{variant:"contained",className:"".concat(t.bookRideCard," ").concat(t.circleBorder),startIcon:r.a.createElement(b.a,{style:{fontSize:"2rem"}}),endIcon:r.a.createElement(g.a,{style:{fontSize:"2rem",marginLeft:16}}),onClick:function(){return s((function(){return"/rental/new"}))}},r.a.createElement(d.a,{className:t.bookRideText},"Book your ride")),r.a.createElement(f.a,{className:t.flexRow},r.a.createElement(p.a,{onClick:function(){return s((function(){return"/profile"}))},variant:"outlined",className:"".concat(t.padded," ").concat(t.circleBorder," ").concat(t.paperLink)},r.a.createElement(v.a,{className:t.icon}),r.a.createElement(d.a,null,"Profile")),a.isAdmin&&r.a.createElement(p.a,{onClick:function(){return s((function(){return"/admin"}))},variant:"outlined",className:"".concat(t.padded," ").concat(t.circleBorder," ").concat(t.paperLink)},r.a.createElement(E.a,{className:t.icon}),r.a.createElement(d.a,null,"Admin")))))},R=a(24),L=a(15),P=a(121),B=a(178),H={email:/^\b[\w\.-]+@[\w\.-]+\.\w{2,4}\b/i,name:/^\b[a-z\.\s]+\b/i,contactNo:/^[6-9]{1}\d{9}/,houseNo:/^\b\d{1,3}(\/\d{1,3})?[A-Z]?\b/i,street:/^\b[\w\,?\s]+\b/gi,city:/^\b[a-z]+\b/i,state:/^\b[a-z]+\b/i,zipcode:/^\b[0-9]{6}(-[0-9]{4})?\b/g,brand:/^\b[a-z]+\b/i,model:/^\b[a-z\-0-9\ ]+\b/i,registrationNo:/^\b[a-z]{2}\-\d{2}\-[a-z]{2}\-[a-z0-9]{4}\b/i,color:/([a-z]+\ ?)+/i},T=function(e){return H.email.test(e)},W=function(e){return e.trim().length>=8},F=function(e){return H.name.test(e)},U=function(e){return H.contactNo.test(e)},J=function(e){return H.houseNo.test(e)},Z=function(e){return H.street.test(e)},G=function(e){return H.city.test(e)},M=function(e){return H.state.test(e)},V=function(e){return H.zipcode.test(e)};function $(e){var t=Object(n.useState)((function(){return{email:"",password:""}})),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)((function(){return""})),s=Object(u.a)(o,2),b=(s[0],s[1]),g=Object(n.useState)(""),v=Object(u.a)(g,2),E=v[0],y=v[1];Object(n.useEffect)((function(){m.a.load("user")&&y((function(){return"/home"}))}),[]);var h=function(e){e.persist(),l((function(){return Object(L.a)(Object(L.a)({},c),{},Object(R.a)({},e.target.name,e.target.value))}))},x=function(){var t=Object(k.a)(O.a.mark((function t(a){var n,r,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!T(c.email)||!W(c.password)){t.next=6;break}console.log("Correct"),b((function(){return""})),t.next=8;break;case 6:return b((function(){return"Invalid credentials!"})),t.abrupt("return");case 8:return t.next=10,C({email:c.email,password:c.password});case 10:n=t.sent,r=n.isLoggedIn,console.log(r),r&&(l=e.location.state?e.location.state.from.pathname:"/home",y((function(){return l})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return""!==E?r.a.createElement(i.a,{to:{pathname:E,state:{from:e.location}}}):r.a.createElement(f.a,{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(P.a,{style:{padding:16}},r.a.createElement(d.a,{variant:"h4",style:{textAlign:"center",marginBottom:32}},"Login"),r.a.createElement("form",null,r.a.createElement(B.a,{label:"Email",type:"email",name:"email",value:c.email,onChange:h,variant:"outlined",style:{display:"block",margin:8}}),r.a.createElement(B.a,{label:"Password",type:"password",name:"password",value:c.password,onChange:h,variant:"outlined",style:{display:"block",margin:8}}),r.a.createElement(f.a,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginTop:16,padding:0}},r.a.createElement(p.a,{onClick:function(){return y("/signup")},style:{margin:8,padding:8}},"Signup"),r.a.createElement(p.a,{type:"submit",variant:"contained",onClick:x,style:{margin:8}},"Submit")))))}var q=function(e){var t=Object(n.useState)((function(){return{firstName:"",lastName:"",email:"",password:"",contactNo:"",houseNo:"",street:"",city:"",state:"",zipcode:""}})),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)((function(){return""})),s=Object(u.a)(o,2),b=(s[0],s[1]),g=Object(n.useState)((function(){return""})),v=Object(u.a)(g,2),E=v[0],y=v[1];Object(n.useEffect)((function(){m.a.load("user")&&y((function(){return"/home"}))}),[]);var h=function(e){e.persist(),l((function(){return Object(L.a)(Object(L.a)({},c),{},Object(R.a)({},e.target.name,e.target.value))})),console.log(c)},x=function(){var e=Object(k.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(T(c.email)&&W(c.password)&&F(c.firstName)&&F(c.lastName)&&U(c.contactNo)&&J(c.houseNo)&&Z(c.street)&&G(c.city)&&M(c.state)&&V(c.zipcode))){e.next=6;break}console.log("Correct"),b((function(){return""})),e.next=8;break;case 6:return b((function(){return"Invalid credentials!"})),e.abrupt("return");case 8:return e.next=10,S(c);case 10:a=e.sent,a.isSignedUp&&y((function(){return"/home"}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return""!==E?r.a.createElement(i.a,{to:{pathname:E,state:{from:e.location}}}):r.a.createElement(f.a,{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(P.a,{style:{padding:16,width:"fit-content"}},r.a.createElement(d.a,{variant:"h4",style:{marginBottom:32,textAlign:"center"}},"Signup"),r.a.createElement("form",null,r.a.createElement(f.a,null,r.a.createElement(B.a,{label:"Email",name:"email",variant:"outlined",onChange:h,value:c.email,style:{margin:8}}),r.a.createElement(B.a,{label:"Password",name:"password",variant:"outlined",onChange:h,value:c.password,style:{margin:8}})),r.a.createElement(f.a,null,r.a.createElement(B.a,{label:"First Name",name:"firstName",variant:"outlined",onChange:h,value:c.firstName,style:{margin:8}}),r.a.createElement(B.a,{label:"Last Name",name:"lastName",variant:"outlined",onChange:h,value:c.lastName,style:{margin:8}})),r.a.createElement(f.a,null,r.a.createElement(B.a,{label:"Contact Number",name:"contactNo",variant:"outlined",onChange:h,value:c.contactNo,style:{margin:8}})),r.a.createElement(f.a,null,r.a.createElement(B.a,{label:"House Number",name:"houseNo",variant:"outlined",onChange:h,value:c.houseNo,style:{margin:8}}),r.a.createElement(B.a,{label:"Street",name:"street",variant:"outlined",onChange:h,value:c.street,style:{margin:8}})),r.a.createElement(f.a,null,r.a.createElement(B.a,{label:"City",name:"city",variant:"outlined",onChange:h,value:c.city,style:{margin:8}}),r.a.createElement(B.a,{label:"State",name:"state",variant:"outlined",onChange:h,value:c.state,style:{margin:8}}),r.a.createElement(B.a,{label:"ZIP Code",name:"zipcode",variant:"outlined",onChange:h,value:c.zipcode,style:{margin:8}})),r.a.createElement(f.a,{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(p.a,{onClick:function(){return y("/login")},style:{margin:8}},"Login"),r.a.createElement(p.a,{type:"submit",variant:"contained",onClick:x,style:{margin:8}},"Submit")))))},K=a(81),Q=a(162),X=a(163),Y=a(164),_=a(165),ee=a(166),te=a(167),ae=a(169),ne=a(161),re=a(168),ce=a(82),le=function(){var e=Object(k.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/vehicle/".concat(t));case 2:if(200!==(a=e.sent).status||!a.data){e.next=5;break}return e.abrupt("return",a.data);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(k.a)(O.a.mark((function e(){var t,a,n,r,c,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/vehicle/all");case 2:if(200!==(t=e.sent).status||!t.data){e.next=8;break}return a=t.data,console.log(a),n=[a.filter((function(e){return 1===e.type})),a.filter((function(e){return 2===e.type})),a.filter((function(e){return 3===e.type}))],r=n[0],c=n[1],l=n[2],e.abrupt("return",{hatchback:r,sedan:c,suv:l});case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(k.a)(O.a.mark((function e(t){var a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(ce.a)(new Set(t)),n=a.map((function(e){return le(e)})),e.next=5,Promise.all(n);case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(k.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("/vehicle/add",t);case 2:if(200!==(a=e.sent).status||!a.data){e.next=5;break}return e.abrupt("return",a.data);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(k.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.delete("/vehicle/".concat(t,"/delete"));case 2:return a=e.sent,e.abrupt("return",200===a.status&&!0===a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(k.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/user/".concat(t,"/rentals"));case 2:if(200!==(a=e.sent).status||!a.data){e.next=5;break}return e.abrupt("return",a.data);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(k.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("/rental/add",t);case 2:return a=e.sent,e.abrupt("return",200===a.status&&a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(k.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/vehicletype/all");case 2:if(200!==(t=e.sent).status||!t.data){e.next=5;break}return e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(k.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("/user/".concat(t.email,"/update"),t);case 2:if(200!==(a=e.sent).status||!a.data){e.next=5;break}return e.abrupt("return",a.data);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var be=function(e){var t=m.a.load("user"),a=Object(n.useState)((function(){return null})),c=Object(u.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(""),b=Object(u.a)(s,2),g=b[0],v=b[1];return Object(n.useEffect)((function(){return Object(k.a)(O.a.mark((function e(){var a,n,r,c,l,i,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t.email);case 2:return a=e.sent.filter((function(e){return null!==e.registrationNo})),n=a.map((function(e){return e.registrationNo})),console.log(n),e.next=7,ie(n);case 7:r=e.sent,console.log(r),c=[],l=Object(K.a)(a);try{for(u=function(){var e=i.value;if(r&&e){var t=r.find((function(t){return t.registrationNo==e.registrationNo}));c.push(Object(L.a)(Object(L.a)({},e),{},{brand:t.brand,model:t.model,registrationNo:t.registrationNo}))}},l.s();!(i=l.n()).done;)u()}catch(s){l.e(s)}finally{l.f()}o((function(){return c}));case 13:case"end":return e.stop()}}),e)})))(),function(){o((function(){return null}))}}),[]),""!==g?r.a.createElement(i.a,{to:{pathname:g,state:{from:e.location}}}):r.a.createElement(n.Fragment,null,r.a.createElement(z,{goHome:function(){return v("/home")}}),r.a.createElement(f.a,{style:{minHeight:"100vh",display:"contents",position:"fixed"}},r.a.createElement(d.a,{variant:"h3",style:{marginTop:"2em"}},"".concat(t.firstName," ").concat(t.lastName)),r.a.createElement(d.a,{variant:"body1"},"".concat(t.email,"  \u2022  ").concat(t.contactNo)),t.isAdmin&&r.a.createElement(p.a,{onClick:function(){return v("/admin")}},"Admin"),r.a.createElement(p.a,{startIcon:r.a.createElement(ne.a,null),onClick:function(){return v("/profile/edit")},style:{marginLeft:8}},"Edit"),r.a.createElement(d.a,{variant:"body2",style:{marginTop:16}},"".concat(t.houseNo,", ").concat(t.street,", ").concat(t.city,", ").concat(t.state,", ").concat(t.zipcode)),r.a.createElement(d.a,{variant:"h5",style:{marginTop:16}},"Rentals"),null!==l?l.length>0?r.a.createElement(Q.a,{component:P.a},r.a.createElement(X.a,{stickyHeader:!0},r.a.createElement(Y.a,null,r.a.createElement(_.a,null,r.a.createElement(ee.a,{style:{fontWeight:"bold"}},"Name"),r.a.createElement(ee.a,{style:{fontWeight:"bold"}},"Registration No."),r.a.createElement(ee.a,{style:{fontWeight:"bold"}},"Start Date"),r.a.createElement(ee.a,{style:{fontWeight:"bold"}},"End Date"),r.a.createElement(ee.a,{style:{fontWeight:"bold"}},"Total Amount (Rs.)"))),r.a.createElement(te.a,null,l.map((function(e){return r.a.createElement(_.a,{key:e.id},r.a.createElement(ee.a,null,"".concat(e.brand," ").concat(e.model)),r.a.createElement(ee.a,null,e.registrationNo),r.a.createElement(ee.a,null,e.start.substring(0,10)),r.a.createElement(ee.a,null,e.end.substring(0,10)),r.a.createElement(ee.a,{align:"center"},e.amount))}))))):r.a.createElement(f.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(re.a,null),r.a.createElement(d.a,{variant:"body1"},"No rentals yet!")):r.a.createElement(f.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(ae.a,null))))},ge=a(159),ve=a(180),Ee=a(170),ye=a(179),he=a(160),xe=a(172),je=a(173),Oe=a(174),ke=a(175),we=a(171),Ne=a(177),Ce=a(176);var Se=function(e){var t=Object(n.useState)((function(){return null})),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)((function(){return{brand:"",model:"",registrationNo:"",type:1,color:""}})),s=Object(u.a)(o,2),m=s[0],b=s[1],g=Object(n.useState)(""),v=Object(u.a)(g,2),E=v[0],y=v[1];Object(n.useEffect)((function(){Object(k.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:t=e.sent,Object.keys(t).forEach((function(e){t[e]=t[e].filter((function(e){return e.isAvailable}))})),l((function(){return t}));case 5:case"end":return e.stop()}}),e)})))()}),[]);var h=function(e){e.persist(),console.log(e),b((function(t){return Object(L.a)(Object(L.a)({},t),{},Object(R.a)({},e.target.name,e.target.value))}))},x=function(){var e=Object(k.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l=m.brand,!(H.brand.test(l)&&(c=m.model,H.model.test(c))&&(r=m.registrationNo,H.registrationNo.test(r))&&(n=parseInt(m.type),0!=n)&&(a=m.color,H.color.test(a)))){e.next=4;break}e.next=6;break;case 4:return console.log("Invalid credentials"),e.abrupt("return");case 6:return e.next=8,ue(m);case 8:e.sent&&window.location.reload();case 10:case"end":return e.stop()}var a,n,r,c,l}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(k.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:if(!e.sent){e.next=4;break}window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return""!==E?r.a.createElement(i.a,{to:{pathname:E,state:{from:e.location}}}):r.a.createElement(n.Fragment,null,r.a.createElement(z,{goHome:function(){return y("/home")}}),r.a.createElement(f.a,{style:{minHeight:"100vh",paddingTop:"4em"}},r.a.createElement(d.a,{variant:"h3"},"Admin"),r.a.createElement(P.a,{variant:"outlined",style:{margin:16,padding:16,width:"fit-content"}},r.a.createElement(d.a,{variant:"h5",style:{margin:8}},"Add a new car"),r.a.createElement("form",null,r.a.createElement(B.a,{label:"Brand",type:"text",name:"brand",value:m.brand,onChange:h,variant:"outlined",style:{margin:8}}),r.a.createElement(B.a,{label:"Model",type:"text",name:"model",value:m.model,onChange:h,variant:"outlined",style:{margin:8}}),r.a.createElement(B.a,{label:"Registration Number",type:"text",placeholder:"RJ-01-FC-3934",name:"registrationNo",value:m.registrationNo,onChange:h,variant:"outlined",style:{margin:8}}),r.a.createElement(ge.a,{component:"fieldset",style:{margin:8,display:"block"}},r.a.createElement(ve.a,{name:"type",value:parseInt(m.type),style:{display:"inline"}},r.a.createElement(Ee.a,{key:"hatchback",value:1,control:r.a.createElement(ye.a,null),label:r.a.createElement(d.a,null,"Hatchback"),onClick:h}),r.a.createElement(Ee.a,{key:"sedan",value:2,control:r.a.createElement(ye.a,null),label:r.a.createElement(d.a,null,"Sedan"),onClick:h}),r.a.createElement(Ee.a,{key:"suv",value:3,control:r.a.createElement(ye.a,null),label:r.a.createElement(d.a,null,"SUV"),onClick:h}))),r.a.createElement(B.a,{label:"Color",type:"text",name:"color",value:m.color,onChange:h,variant:"outlined",style:{margin:8}}),r.a.createElement(p.a,{variant:"contained",type:"submit",onClick:x,style:{margin:8,marginLeft:"auto",marginRight:"auto",display:"block"}},"Submit"))),r.a.createElement(d.a,{variant:"h5",style:{marginTop:32}},"Car List"),c?r.a.createElement(he.a,{subheader:r.a.createElement("li",null),dense:!0},Object.keys(c).map((function(e){if(c[e].length)return r.a.createElement("li",{key:e},r.a.createElement("ul",null,r.a.createElement(xe.a,null,"".concat(e.toUpperCase()," \u2022 ").concat(c[e].length)),c[e].map((function(e){return r.a.createElement(je.a,{key:e.registrationNo},r.a.createElement(Oe.a,{primary:"".concat(e.brand," ").concat(e.model),secondary:"".concat(e.registrationNo," | ").concat(e.color)}),r.a.createElement(ke.a,null,r.a.createElement(we.a,{onClick:function(){return j(e.registrationNo)}},r.a.createElement(Ce.a,null))))}))),r.a.createElement(Ne.a,null))}))):r.a.createElement(f.a,{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement(ae.a,null))))},Ie=Object(y.a)({main:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},heading:{textAlign:"center",margin:16},row:{display:"flex",flexDirection:"row",justifyContent:"center"},btnPrimary:{margin:8,backgroundColor:"orange"}});var ze=function(e){var t=Ie(),a=Object(n.useState)((function(){return{}})),c=Object(u.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)((function(){return[]})),b=Object(u.a)(s,2),g=b[0],v=b[1],E=Object(n.useState)((function(){return{registrationNo:"",start:"",end:"",amount:0}})),y=Object(u.a)(E,2),h=y[0],x=y[1],j=Object(n.useState)(0),w=Object(u.a)(j,2),N=w[0],C=w[1],S=Object(n.useState)(!0),I=Object(u.a)(S,2),D=I[0],A=I[1],H=Object(n.useState)(1),T=Object(u.a)(H,2),W=T[0],F=T[1],U=Object(n.useState)(""),J=Object(u.a)(U,2),Z=J[0],G=J[1];Object(n.useEffect)((function(){Object(k.a)(O.a.mark((function e(){var t,a,c,l,i,u,s,m;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:return t=e.sent,e.next=5,de();case 5:for(a=e.sent,c=[],l=0,i=Object.keys(t);l<i.length;l++)u=i[l],s=t[u],m=[],s.forEach((function(e){e.isAvailable&&m.push(r.a.createElement(Ee.a,{key:e.registrationNo,value:e.registrationNo,control:r.a.createElement(ye.a,null),label:r.a.createElement(n.Fragment,null,r.a.createElement(d.a,{style:{display:"inline"}},"".concat(e.brand," ").concat(e.model,"   ")),r.a.createElement(d.a,{style:{display:"inline",fontSize:"0.8rem",fontWeight:"bold",color:"grey"}},"".concat(e.color,"   (").concat(e.registrationNo,")"))),onClick:function(t){V(t),F(e.type)}}))})),c.push(r.a.createElement(ve.a,{key:u,name:"registrationNo"},m));o((function(){return t})),v((function(){return r.a.createElement(ge.a,{component:"fieldset"},c)})),C((function(){return a})),A(!1);case 12:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){var e=M(h.start,h.end,N,W);x((function(t){return Object(L.a)(Object(L.a)({},t),{},{amount:e})}))}),[h.registrationNo,h.start,h.end]);var M=function(e,t,a,n){var r=new Date(e),c=(new Date(t).getTime()-r.getTime())/864e5+1,o=0;a&&a.find((function(e){return e.id===n}))&&(o=a.find((function(e){return e.id===n})).pricePerDay);var i=l?c*o:0;return i||(i=0),i},V=function(e){e.persist(),console.log(e.target.name),console.log(e.target.value),x((function(t){return Object(L.a)(Object(L.a)({},t),{},Object(R.a)({},e.target.name,e.target.value))}))},$=function(){var e=Object(k.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(h.amount<=0)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fe(Object(L.a)(Object(L.a)({},h),{},{email:m.a.load("user").email}));case 5:G("/home");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return""!==Z?r.a.createElement(i.a,{to:{pathname:Z,state:{from:e.pathname}}}):r.a.createElement(n.Fragment,null,r.a.createElement(z,{goHome:function(){return G("/home")}}),r.a.createElement(f.a,{className:t.main},r.a.createElement(P.a,{variant:"outlined"},r.a.createElement(d.a,{variant:"h4",className:t.heading},"New Rental"),r.a.createElement("form",{style:{padding:16}},r.a.createElement(P.a,{variant:"outlined"},r.a.createElement(f.a,{className:t.row},r.a.createElement(P.a,{onClick:function(){return F(1)},variant:1===W?"elevation":"outlined",style:{margin:8,padding:8}},r.a.createElement(d.a,{variant:"body1"},"Hatchback"),r.a.createElement(d.a,{style:{font:"small-caption",textAlign:"center"}},"Rs. ".concat(N?N[0].pricePerDay:0,"/day"))),r.a.createElement(P.a,{onClick:function(){return F(2)},variant:2===W?"elevation":"outlined",style:{margin:8,padding:8}},r.a.createElement(d.a,{variant:"body1"},"Sedan"),r.a.createElement(d.a,{style:{font:"small-caption",textAlign:"center"}},"Rs. ".concat(N?N[1].pricePerDay:0,"/day"))),r.a.createElement(P.a,{onClick:function(){return F(3)},variant:3===W?"elevation":"outlined",style:{margin:8,padding:8}},r.a.createElement(d.a,{variant:"body1"},"SUV"),r.a.createElement(d.a,{style:{font:"small-caption",textAlign:"center"}},"Rs. ".concat(N?N[2].pricePerDay:0,"/day")))),r.a.createElement(f.a,{style:{display:"flex",justifyContent:"center"}},D?r.a.createElement(ae.a,null):g.props.children[W-1])),r.a.createElement(f.a,{style:{margin:8,padding:0,justifyContent:"space-around"}},r.a.createElement(B.a,{label:"Start Date",name:"start",type:"date",InputLabelProps:{shrink:!0},onChange:V,style:{margin:8}}),r.a.createElement(B.a,{label:"End Date",name:"end",type:"date",InputLabelProps:{shrink:!0},onChange:V,style:{margin:8}})),r.a.createElement(f.a,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}},r.a.createElement(d.a,{variant:"body2",style:{margin:16,fontSize:"1.6rem",fontWeight:"lighter"}},"Rs. ",h.amount),r.a.createElement(p.a,{variant:"contained",type:"submit",onClick:$},"Book"))))))};var De=function(e){var t=Object(n.useState)(m.a.load("user")),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)((function(){return""})),s=Object(u.a)(o,2),b=(s[0],s[1]),g=Object(n.useState)((function(){return""})),v=Object(u.a)(g,2),E=v[0],y=v[1],h=function(e){e.persist(),l((function(){return Object(L.a)(Object(L.a)({},c),{},Object(R.a)({},e.target.name,e.target.value))})),console.log(c)},x=function(){var e=Object(k.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(W(c.password)&&F(c.firstName)&&F(c.lastName)&&U(c.contactNo)&&J(c.houseNo)&&Z(c.street)&&G(c.city)&&M(c.state)&&V(c.zipcode))){e.next=6;break}console.log("Correct"),b((function(){return""})),e.next=9;break;case 6:return console.log("Incorrect"),b((function(){return"Invalid credentials!"})),e.abrupt("return");case 9:return e.next=11,pe(c);case 11:null!==(a=e.sent)&&(m.a.save("user",a),y("/profile"));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return""!==E?r.a.createElement(i.a,{to:{pathname:E,state:{from:e.location}}}):r.a.createElement(n.Fragment,null,r.a.createElement(z,{goHome:function(){return y("/home")}}),r.a.createElement(f.a,{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(P.a,{style:{padding:16,width:"fit-content"}},r.a.createElement(d.a,{variant:"h4",style:{marginBottom:32,textAlign:"center"}},"Edit Profile"),r.a.createElement("form",null,r.a.createElement(f.a,null,r.a.createElement(B.a,{label:"Email",name:"email",variant:"outlined",disabled:!0,onChange:h,value:c.email,style:{margin:8}}),r.a.createElement(B.a,{label:"Password",name:"password",variant:"outlined",onChange:h,value:c.password,style:{margin:8}})),r.a.createElement(f.a,null,r.a.createElement(B.a,{label:"First Name",name:"firstName",variant:"outlined",onChange:h,value:c.firstName,style:{margin:8}}),r.a.createElement(B.a,{label:"Last Name",name:"lastName",variant:"outlined",onChange:h,value:c.lastName,style:{margin:8}})),r.a.createElement(f.a,null,r.a.createElement(B.a,{label:"Contact Number",name:"contactNo",variant:"outlined",onChange:h,value:c.contactNo,style:{margin:8}})),r.a.createElement(f.a,null,r.a.createElement(B.a,{label:"House Number",name:"houseNo",variant:"outlined",onChange:h,value:c.houseNo,style:{margin:8}}),r.a.createElement(B.a,{label:"Street",name:"street",variant:"outlined",onChange:h,value:c.street,style:{margin:8}})),r.a.createElement(f.a,null,r.a.createElement(B.a,{label:"City",name:"city",variant:"outlined",onChange:h,value:c.city,style:{margin:8}}),r.a.createElement(B.a,{label:"State",name:"state",variant:"outlined",onChange:h,value:c.state,style:{margin:8}}),r.a.createElement(B.a,{label:"ZIP Code",name:"zipcode",variant:"outlined",onChange:h,value:c.zipcode,style:{margin:8}})),r.a.createElement(f.a,{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(p.a,{onClick:function(){return y("/profile")},style:{margin:8}},"Cancel"),r.a.createElement(p.a,{type:"submit",variant:"contained",onClick:x,style:{margin:8}},"Submit"))))))},Ae=a(57),Re=function(e){var t=e.component,a=Object(Ae.a)(e,["component"]);return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return m.a.load("user")?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Le=function(e){var t=e.component,a=Object(Ae.a)(e,["component"]);return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return m.a.load("user")&&m.a.load("user").isAdmin?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var Pe=function(){return r.a.createElement(o.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:function(){return r.a.createElement(i.a,{to:"/home"})}}),r.a.createElement(Re,{exact:!0,path:"/home",component:A}),r.a.createElement(Re,{exact:!0,path:"/rental/new",component:ze}),r.a.createElement(Re,{exact:!0,path:"/profile",component:be}),r.a.createElement(Re,{exact:!0,path:"/profile/edit",component:De}),r.a.createElement(Le,{exact:!0,path:"/admin",component:Se}),r.a.createElement(i.b,{exact:!0,path:"/login",component:$}),r.a.createElement(i.b,{exact:!0,path:"/signup",component:q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,t,a){e.exports=a(120)}},[[92,1,2]]]);
//# sourceMappingURL=main.431fc400.chunk.js.map